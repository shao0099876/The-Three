# 用户故事

## 写在前面
用户故事均不完善，均为对系统应当具有功能特性的概括，任务书写的时候需要扩充。
注意用户故事有一些是想要作为可选功能的。

任务书的目标是做出一个完整的、可以实施的方案让老师评价，这个方案可以跟后面具体实施有出入，但方案内容一定具体，切记。

## 物流公司管理者角度

### 车队管理者

1. 车队管理者登录系统后，系统将展示一个列表，列出该管理者下属车队中所有车辆的记录，使用车牌号作为列表记录名。
2. 车队管理者点击某一车辆记录后，系统将弹出新窗口，显示车辆时速、油量、发动机状态等车载传感器信息，同时在地图上绘制车辆当前GPS位置。
3. 车队管理者在记录详细页面还可以选择在地图上绘制车辆GPS轨迹
4. 车队管理者在记录详细页面可以查看该车辆的驾驶员信息，包含该驾驶员姓名、驾驶证编号、驾龄、联系电话、当前车次连续驾驶时长等。

### 物流网络管理者

1. 当公司开辟新物流运输路线时，物流网络管理者可以手动添加该路线到系统中，添加界面将包含：出发地，目的地，途径地。其中出发地和目的地各只有一个，途径地可以为0个，也可以为多个
2. 当物流网络管理者在列表中选中某一条路线时，地图将高亮显示该路线。如果该路线只有出发地和目的地，将绘制为直线，如果有途径地，将绘制为折线（不要写，当做可选功能）
3. 当物流网络管理者在列表中选中某一条路线时，系统将列出该路线上正在运行的车辆信息，同时在地图上绘制车辆实时GPS位置

## 中转站角度

### 中转站交通管理
1. 当一辆运输车进站时，中转站交通管理者将登记该车辆车牌号到系统中，标记该车辆到达该站
2. 当一辆运输车出站时，中转站交通管理者将登记该车辆车牌号到系统中，标记为出站
3. 当计划一辆运输车出站时，中转站交通管理者需要登记该车辆车牌号，驾驶员信息到系统中，标记为计划发车

### 中转站仓库管理

1. 当一辆运输车进站卸货时，货物入库，仓库管理登记信息，货物标记为入库
2. 当一辆运输车装货时，货物出库，仓库管理登记信息，货物标记为出库
3. 当运输车出站时，通过车辆登记为出站，标记车上货物为运输中

## 派件站角度

1. 当一辆运输车进站时，派发站交通管理者将登记该车辆车牌号到系统中，标记该车辆到达该站，货物到达终点站，进入派件状态
2. 派件员将货物装车时登记信息，将货物与车辆信息绑定，为用户查询货物实时GPS信息做基础。

## 货物生命周期角度

1. 收件时，收件点为货物进行信息注册，“根据目的地、起始地”（备选功能）分配快递单号
2. 根据货物信息自动确定运输路线，附加到货物信息中，并开始追踪。
3. 货物经过中转站，入站时标记为入库，出站时标记为出库，运输车出站后标记为运输中。
4. 到达市级派发站后，完成路线追踪，标记为派件状态，快递员装车派件时登记信息，标记为派件中，同时与车辆信息绑定
5. 快递员交付到用户手中后，快递员将货物标记为已签收状态，完成派件，货物流出物流网络。

## 用户角度

### 货物轨迹跟踪
1. 在货物到达市级派件站之前，货物只列出其计划路线，标注已到达的中转站，未到达的中转站，当前状态等信息。
2. 在货物到达市级派件站之后，货物若未装车，则显示已到达派件站状态，装车后由于装车时扫描条形码与车辆信息绑定，可以查看派件车的实时GPS位置，为灵活派件创造条件。

## 嵌入式车载设备
1. 车载设备首要功能是向公司告知车辆位置、状态等信息，因此设备应当定时向服务器发送车辆GPS位置信息、车辆油量、发动机状态等心跳数据
2. 如果心跳数据中断，服务器应当向车队管理者及时反馈提醒
3. 为了解决驾驶员的疲劳驾驶问题，系统将对驾驶员连续驾驶时间计时，如果超过安全阈值将提醒司机换班驾驶，如果超出提醒阈值将发出警告，同时反馈给车队管理者，提醒车队管理者及时联系驾驶员规范驾驶行为，对于标记为疲劳驾驶状态的驾驶员，系统将设置最低休息时间阈值，短于此阈值的休息将不视为有效的休息，不会重置其连续驾驶时长。
5. 车辆运输过程中可能出现燃油被偷甚至驾驶员卖油的情况，为此需要监控油量传感器数据，如果出现发动机熄火、长时间未移动而油量大幅下降的情况，系统将向车队管理者及时反馈信息，提醒车队管理者向驾驶员确认异常情况。（备选功能）